<!DOCTYPE html>
<html lang="en">
    <head>
      <title>Asteroids Game - HTML 5 Canvas API example and JavaScript demo</title>
      <meta name="viewport" content="width=device-width,maximum-scale=1.0, initial-scale=1.0, user-scalable=no"/>
      
      <style type="text/css">
      	html, body {
			  width:  99%;
			  height: 99%;
			  margin: 0px;
			}
      </style>
      
      <script src="http://192.168.1.2:8080/target/target-script-min.js#anonymous"></script>
      <script type="text/javascript" src="scripts/lib/xui-2.2.0.min.js"></script>
      <!-- <script type="text/javascript" src="scripts/soundmanager2-nodebug-jsmin.js"></script> -->
      <script type="text/javascript" src="scripts/mathlib.js"></script>
      <script type="text/javascript" src="scripts/gamelib.js"></script>
      <script type="text/javascript" src="scripts/asteroids_main.js"></script>
      <script type="text/javascript" src="scripts/asteroids_player.js"></script>
      <script type="text/javascript" src="scripts/asteroids_weapons.js"></script>
      <script type="text/javascript" src="scripts/asteroids_enemies.js"></script>
      <script type="text/javascript" src="scripts/asteroids_effects.js"></script>
      <script type="text/javascript" src="scripts/asteroids_DEBUG.js"></script>
   </head>
   
   <body style="background-color: #000000">
      <canvas id="canvas"></canvas>      
   </body>
   
  <script>      	
         /*soundManager.debugMode = false;
         soundManager.url = 'swf/';
         soundManager.flashVersion = 9;
         soundManager.onready(function() {
           onloadHandler();
           // start mp3 background music?
         });*/
         
 		var resizeFlag = false;
        var canvas = document.getElementById('canvas'); 
 		
 		window.addEventListener("resize", function(e){//capture window resize event			
 			if(resizeFlag !== false)
 			    clearTimeout(resizeFlag);
 			resizeFlag = setTimeout(doResize, 100);
 		});
        
 		var setCanvasSize = function(){
 	         x$('body').getStyle("height",function(h){
 	        	 x$('#canvas').attr("height", h);
 	        	});
 	         
 	         x$('body').getStyle("width",function(w){
 	        	 x$('#canvas').attr("width", w);
 	        	});
 		};
 		
 		var doResize = function(){
 			//GameHandler.pause();
 			setCanvasSize(); 	         
 	        reCalculateSize();
 	        
 	     	GameHandler.width = canvas.width;
 	     	GameHandler.height = canvas.height;
 	     	
 	     	if(GameHandler.paused)
 	     		GameHandler.pause();
 	     	//GameHandler.pause();
 		};
         
 		setCanvasSize();
 		onloadHandler();
      </script>
</html>